---
layout: default
title: Image Downloader
---

<h1>4chan Thread Image Downloader</h1>


4chan Thread URL:<br>
<input type="text" id="URL"><br>
<button type="button" id="search">Search</button>


<article id="imageContainer">
</article>

<article id="jsonInfo">
  JSON:<br>
  <textarea id="json" rows="8" cols="80"></textarea>Board: <input type="text" id="brd"><br><br>
  <button type="button" id="render">Search</button>
</article>

<article id="finalContainer">

</article>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script>
  function bigmake(x){
    x.style.width = "500px";
  }
  function normalmake(x){
    x.style.width = "100px";
  }
  $(document).ready(function() {
    $("#search").on("click", function() {
      $("#imageContainer").empty();
      var inputValue = $("#URL").val();
      var arr = inputValue.split("/");
      var query = 'https://a.4cdn.org/'+arr[3]+'/thread/'+arr[5]+'.json';
      board = arr[3];
      $("#imageContainer").append("JSON URL: "+query+"<br>");
    });

    $("#render").on("click", function() {
      var board = $("#brd").val();
      $("#finalContainer").empty();
      var inputValue = $("#json").val();
      var content = JSON.parse(inputValue);
      console.log(content);
      console.log(content.posts.length);
      for (var i = 0; i < content.posts.length; i++) {
        if(content.posts[i].tim){
          var thumb = "https://i.4cdn.org/"+board+"/"+content.posts[i].tim+"s.jpg";
          var picture = "https://i.4cdn.org/"+board+"/"+content.posts[i].tim+content.posts[i].ext;
          $("#finalContainer").append("<br>"+(i+1)+": "+"<a href=\""+picture+"\" download><img onmouseover=\"bigmake(this)\" onmouseout=\"normalmake(this)\" src=\""+picture+"\" width=\"100\"></a>"+content.posts[i].w+"x"+content.posts[i].h);
          //$("#finalContainer").append("<img src=\""+thumb+"\">");
        }
      }

    })

  });


</script>
